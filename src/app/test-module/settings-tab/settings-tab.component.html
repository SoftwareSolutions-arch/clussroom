<div class="dashboard">
  <app-sidebar></app-sidebar>
  <div class="control-panel">
    <app-dashboardheader></app-dashboardheader>
    <app-app-dashboard-header></app-app-dashboard-header>

    <!-- <div class="loading-indicator">
      <mat-spinner></mat-spinner>
    </div> -->
    <div class="right">
      <div class="width"> <a>{{this.test_name}}</a>
      </div>
      <div class="width">
        <select class="form-control" (change)="onChange()" [(ngModel)]="selectedTestDetails">
          <option value="" disabled selected="selected">Please select test</option>
          <option *ngFor="let user of testAllData" [ngValue]="user">{{user.test_name}}</option>
        </select>
      </div>
    </div>
    <div class="prospectus-section sequence-list">
      <div class="prospectus-tabs">
        <ul class="nav nav-tabs">
          <li (click)="goToTestHome()"><a data-toggle="tab">Test</a>
          </li>
          <li><a data-toggle="tab" href="#settings" class="active">Settings</a>
          </li>
          <li (click)="goToTestAssessment()"><a data-toggle="tab">Result/Assessment</a>
          </li>
          <!--<li><a data-toggle="tab" href="#overall-grading">Overall Grading Status</a></li>-->
        </ul>
      </div>
      <div class="tab-content">
        <!-- Schedule start -->
        <div id="test" class="tab-pane "></div>
        <!-- Schedule start -->
        <!-- Submisssion Log start -->
        <div id="settings" class="tab-pane active box-shadow">
          <div class="setting-input bottom-border">
            <div class="text-left col-md-2">
              <label>Name of test</label>
            </div>
            <div class="col-lg-10 setting-padding">
              <input [(ngModel)]="SettingsData.test_name" type="text">
            </div>
          </div>
          <div class="text-area setting-input bottom-border">
            <div class="text-left col-md-2">
              <label>Instruction</label>
            </div>
            <div class="col-lg-10" style="padding-left: 23px;">
              <angular-editor [(ngModel)]="SettingsData.instruction" name="history" cols="80" label="notes" rows="4"
                wrap="virtual" style="margin: 0;"
                [placeholder]="'Please read the questions carefully. This test will form part of your final grading this year.'">
              </angular-editor>
            </div>
          </div>
          <div class="setting-date-section setting-input bottom-border">
            <div class="col-md-2 text-left">
              <label>Test available from :</label>
            </div>
            <div class="col-md-2" style="padding-left: 21px; margin-right: 2em">
              <input [ngModel] ="SettingsData.start_date | date:'yyyy-MM-dd'" type="date" name="test_available_from">
            </div>
            <div class="col-md-2">
              <input [(ngModel)]="SettingsData.start_time" type="time" style="width: 148px !important;"
                value="12:00" class="text-center" name="start_time">
            </div>
          </div>
          <div class="setting-date-section setting-input bottom-border">
            <div class="col-md-2 text-left">
              <label>Test available to :</label>
            </div>
            <div class="col-md-2" style="padding-left: 21px; margin-right: 2em">
              <input [ngModel] ="SettingsData.end_date | date:'yyyy-MM-dd'" type="date" name="test_available_to">
            </div>
            <div class="col-md-2">
              <input [ngModel]="SettingsData.end_time" type="time" style="width: 148px !important;"
                value="12:00" class="text-center" name="end_time">
            </div>
          </div>
          <div class="custom-checkbox setting-input bottom-border">
            <div class="col-md-2 text-left">
              <label>Timer</label>
            </div>
            <div class="col-md-2">
              <input [checked]="SettingsData.timer_time!='' " [(ngModel)]="SettingsData.timer" type="checkbox" id="checkbox1" />
            </div>
            <div class="col-md-4 custom">
              <input [(ngModel)]="SettingsData.timer_time" type="text">
              <label>Minutes</label>
            </div>
          </div>
          <div class="setting-select setting-input border-bottom">
            <div class="col-md-2 text-left">
              <label>Attempts</label>
            </div>
            <div class="col-sm-2" style="padding: 0 20px;">
              <select [(ngModel)]="SettingsData.attempts" name="course" id="course-name">
                <option [ngValue]="1">1</option>
                <option [ngValue]="2">2</option>
                <option [ngValue]="3">3</option>
                <option [ngValue]="4">4</option>
              </select>
            </div>
            <div class="attempt">
              <select [(ngModel)]="SettingsData.attempts_score" name="course" id="course-name" style="width: 148px;">
                <option value="Last attempt" selected>Last attempt</option>
                <option value="Best score">Best score</option>
                <option value="Average score">Average score</option>
              </select>
            </div>
          </div>
          <div class="setting-select setting-input border-bottom">
            <div class="col-md-2 text-left">
              <label>Pagination</label>
            </div>
            <div class="custom">
              <select [(ngModel)]="SettingsData.pagination" name="course" id="course-name">
                <option [ngValue]="1">1</option>
                <option [ngValue]="2">2</option>
                <option [ngValue]="3">3</option>
                <option [ngValue]="4">4</option>
              </select>
              <label>Questions per page</label>
            </div>
          </div>
          <div class="setting-select setting-input border-bottom">
            <div class="col-md-2 text-left">
              <label>View answers</label>
            </div>
            <div class="custom">
              <select [(ngModel)]="SettingsData.view_ans_after_compliation" name="course" id="course-name">
                <option [ngValue]=0>No</option>
                <option [ngValue]=1>Yes</option>
              </select>
              <label>After completion</label>
            </div>
          </div>
          <div style="padding: 18px 0 0 0;">
            <button type="button" class="blue" *ngIf="isClicked" (click)="confirmEditStep1()">Edit</button>
            <button type="button" class="blue" *ngIf="!isClicked" (click)="confirmEdit()">Confirm edit</button>

            <button type="button" class="blue-border">Cancel</button>
          </div>
        </div>
        <!-- Submisssion Log end -->
        <!-- Test/Assignment Grading Status start -->
        <div id="assignment-grading" class="tab-pane"></div>
      </div>
    </div>
  </div>
</div>
